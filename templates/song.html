{{define "title"}}{{.Title}}{{end}}

{{define "content"}}

<table class="table">
    <tr>
        <th>Artist</th>
        <td><a href="{{.Song.Artist.URL}}">{{.Song.Artist.DisplayName}}</a></td>
    </tr>
    <tr>
        <th>Album</th>
        <td><a href="{{.Song.Album.URL}}">{{.Song.Album.DisplayName}}</a></td>
    </tr>
    <tr>
        <th>Year</th>
        <td>{{.Song.Year.Year}}</td>
    </tr>
    <tr>
        <th>Title</th>
        <td>{{.Song.Track}}: {{.Song.DisplayTitle}}</td>
    </tr>
</table>

<audio id="audio" preload="auto" controls="">
    <source src="{{.File.HakmesURL}}">
</audio>

<script>
 var endpoint = "{{.Song.PlayURL}}";
 var a = document.getElementsByTagName("audio")[0];
 var inPause = false;
 a.addEventListener("play", function() {
     if (!inPause) {
         var xhttp = new XMLHttpRequest();
         xhttp.open("GET", endpoint, true);
         xhttp.send();
     }
     inPause = false;
 }, true);
 a.addEventListener("pause", function () {
     inPause = true;
 }, true);
</script>

{{end}}
